{% extends 'admin/base_sensei.html'%}

{% block indicadores %}
<div class="page-header">
    <h4 class="page-title">Calificar</h4>
    <ul class="breadcrumbs">
      <li class="nav-home">
        <a href="#">
          <i class="flaticon-home"></i>
        </a>
      </li>
      <li class="separator">
        <i class="flaticon-right-arrow"></i>
      </li>
      <li class="nav-item">
        <a href="#">Calificar</a>
      </li>
      <li class="separator">
        <i class="flaticon-right-arrow"></i>
      </li>
      <li class="nav-item">
        <a href="#">Calificar tarea</a>
      </li>
    </ul>
</div>
{% endblock indicadores %}


{% block contenido %}
<form action="" method="get">
    <div class="row">
        <div class="col-md-3">
            <label for="materia">Estado</label>
            <select class="custom-select form-control" id="estado" name="estado" required>
                    <option selected disabled>Elige una opcion</option>
                    <option value="2">Todo</option>
                    <option value="0">Entregadas</option>
                    <option value="1">Calificadas</option>
            </select>
        </div>
        <div class="col-md-3">
            <label for="materia">Materia</label>
            <select class="custom-select form-control" id="materia" name="materia" required>
                    <option selected disabled>Elige una opcion</option>
                    {% for materia in materias %}
                    <option value="{{materia.materia_id}}">{{materia.materia_nombre}}</option>
                    {% endfor %}
            </select>
        </div>
        <div class="col-md-3">
            <br>
                <button type="submit" class="btn btn-success"><i class="fas fa-search"></i></button>
        </div>
    </div>
    </form>
<table class="table">
    <thead>
        <tr>
            <th scope="col">Archivo</th>
            <th scope="col">Comentario</th>
            <th scope="col">Alumno</th>
            <th scope="col">Tarea</th>
            <th scope="col">Materia</th>
            <th scope="col">Creado</th>
            <th scope="col">Estado</th>
            <th scope="col">Calificacion</th>
            <th scope="col">Accion</th>
        </tr>
    </thead>
    <tbody>
        {% for calf in object_list %}
        <tr>
            <th scope="row"><a href="{{calf.tareaDocumento_archivo.url}}"><span class="glyphicon glyphicon-file"
                        aria-hidden="true"></span></a></th>
            <td>{{calf.tareaDocumento_comentario_alumno}}</td>
            <td>{{calf.tareaDocumento_pertenece.first_name}} {{calf.tareaDocumento_pertenece.last_name}}</td>
            <td>{{calf.tareaDocumento_Tarea}}</td>
            <td>{{calf.tareaDocumento_Tarea.tarea_unidad.unidad_materia}}</td>
            <td>{{calf.tareaDocumento_creado}}</td>
            <td align="center">

                {% if calf.tareaDocumento_status %}
                <span class="glyphicon glyphicon-ok text-success" aria-hidden="true"></span>
                {% else %}
                <span class="glyphicon glyphicon-remove text-danger" aria-hidden="true"></span>
                {% endif %}

            </td>
            <td>
                {{calf.tareaDocumento_calificacion}}
            </td>
            <td>
                <a class="btn btn-primary" href="{% url 'control_escolar:maestro_tarea_entregada_update' calf.tareaDocumento_id %}" role="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
            </td>
        </tr>
        {% endfor %}

    </tbody>
</table>
{% endblock contenido %}